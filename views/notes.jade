extends layout

block content
	script(src='/javascripts/notes.js')
	div.container(ng-app='appNotes' ng-controller='notesCtrl')
		h2.block Welcome To Life-D, 
			h4.block #{loginUser} 
		a.btn.btn-warning(href='/logout') Logout
		h3.header(ng-click='showAddNote=true;showToday=false;showLifeD=false') 写一条儿 (Add A Note) 
		form.form-horizontal(method="post", id="addNoteForm", action='/addNote' ng-show='showAddNote')
			label About Who (谁)
			| <br>	
			select(ng-model='about' id='about')
				option(ng-repeat='x in members' ng-value='x.email') {{x.firstname+' '+x.lastname}}
			| <br><br>	
			label KeyWord (主题)
			| <br>
			input.span3(id="keyword", ng-model="keyword" required)
			| <br><br>
			label Details (什么)
			| <br>
			input.span3(id="detail", ng-model="detail")
			| <br><br>
			label Value (量度)
			| <br>
			input.span3(id="value", ng-model="value")
			| <br><br>
			input.btn(type="button", value="Save" ng-click='addNote()')
		h3.header(ng-click='showAddNote=false;showToday=true;showLifeD=false') 今儿有啥 (What Happened Today)
		div(ng-show='showToday')
			div(ng-repeat='note in notes')
				p {{note.about}}, {{note.keyword}}, {{note.details}}, Written By {{note.creator}}
		h3.header(ng-click='showAddNote=false;showToday=false;showLifeD=true') 生活数字 (Life D)	
		div(ng-show='showLifeD')
			label From
			div
				p.input-group
					input(type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="from" is-open="popup1.open" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" alt-input-formats="altInputFormats")
					span.input-group-btn
						button.btn.btn-default(ng-click="open1()")
							i.glyphicon.glyphicon-calendar

			label To
			div
				p.input-group
					input(type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="to" is-open="popup2.open" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" alt-input-formats="altInputFormats")
					span.input-group-btn
						button.btn.btn-default(ng-click="open2()")
							i.glyphicon.glyphicon-calendar
			label About Who (谁)
			| <br>	
			select(ng-model='about_search' id='about_search')
				option(ng-repeat='x in members' ng-value='x.email') {{x.firstname+' '+x.lastname}}
			| <br><br>	
			label KeyWord (主题)
			| <br>
			input.span3(id="keyword", ng-model="keyword_search" required)
			| <br><br>
			label Include (包含)
			| <br>
			input.span3(id="detail", ng-model="detail_search")
			| <br><br>
			input.btn(type="button", value="Search" ng-click='searchNotes()')

			div(ng-repeat='result in results')
				p {{result.about}}, {{result.keyword}}, {{result.details}}, Written By {{result.creator}}




		

